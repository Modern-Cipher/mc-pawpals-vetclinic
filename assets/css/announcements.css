/* ===== Panel head (desktop spacing kept tidy) ===== */
.panel-head{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:1rem;margin-bottom:1rem}

/* ===== DataTables controls row (DESKTOP) ===== */
#annTable_wrapper .dt-top{
  display:flex; flex-wrap:nowrap; align-items:center; gap:1rem; padding-bottom:1rem;
}
#annTable_wrapper .dt-top > [class^="col-"],
#annTable_wrapper .dt-top > [class*=" col-"]{ width:auto!important; flex:0 0 auto!important; padding-left:0; padding-right:0; }
#annTable_wrapper .dataTables_length{ order:1; }
#annTable_wrapper .dt-actions{ order:2; margin-left:auto; display:flex; align-items:center; }
#annTable_wrapper .dt-actions .dt-actions-wrapper{ display:flex; align-items:center; gap:.75rem; }
#annTable_filter{ margin:0; }
#annTable_filter label{ margin:0; display:flex; align-items:center; }
#annTable_filter input{
  height:42px; padding:8px 12px; border-radius:8px; border:1px solid var(--border);
  width:260px;
}
#annTable_wrapper .dataTables_length select{
  height:42px; padding:8px 32px 8px 12px; border-radius:8px; border:1px solid var(--border);
  background-position:right .75rem center;
}

/* ===== Table look (desktop) ===== */
@media (min-width:768px){
  .table{ border-collapse:separate; border-spacing:0 8px; }
  .table thead th{ border:none; font-size:.9rem; color:#6c757d; }
  .table tbody tr{
    background:#fff; border:1px solid var(--border); border-radius:12px;
    box-shadow:0 4px 12px rgba(0,0,0,.04); transition:box-shadow .2s, transform .2s;
  }
  .table tbody tr:hover{ box-shadow:0 8px 24px rgba(0,0,0,.08); transform:translateY(-2px); }
  .table>:not(caption)>*>*{ padding:1rem 1.25rem; vertical-align:middle; }
  .table tbody td:first-child{ border-top-left-radius:12px; border-bottom-left-radius:12px; }
  .table tbody td:last-child{ border-top-right-radius:12px; border-bottom-right-radius:12px; }
  .thumb-cell{ width:90px; }
  .title-cell{ max-width:360px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .actions-col{ white-space:nowrap; }
  .actions-wrap{ display:inline-flex; gap:.35rem; }
}

/* Thumbs */
.thumb{ width:64px; height:42px; object-fit:cover; border-radius:8px; cursor:zoom-in; }
.thumb.placeholder{ width:64px; height:42px; display:flex; align-items:center; justify-content:center; border-radius:8px; border:1px dashed var(--border); color:var(--ink-2); }

/* Icon buttons */
.btn-icon{ background:transparent; border:none; color:var(--ink-2); cursor:pointer; padding:8px 10px; border-radius:10px; transition:background-color .2s,color .2s; display:inline-flex; align-items:center; justify-content:center; }
.btn-icon:hover{ background:#f2f6f8; color:var(--ink); }
.btn-icon .fa-trash:hover{ color:var(--danger); }

/* Make icons white inside primary/teal buttons */
.btn.btn-primary i,
.file-upload-button i{ color:#fff; }

/* ===== Modal ===== */
#annModal{ overflow-y:auto; display:flex; align-items:flex-start; padding-top:5vh; padding-bottom:5vh; }
#annModal .modal-content{ width:calc(100% - 32px); max-width:580px; border-radius:16px; box-shadow:0 16px 60px rgba(0,0,0,.18); margin:0 auto; }
#annModal .modal-header{ padding:16px 24px; border-bottom:1px solid var(--border); }
#annModal .modal-body{ padding:24px; }
#annModal .modal-footer{ display:flex; justify-content:flex-end; gap:.75rem; padding:16px 24px; border-top:1px solid var(--border); background:#f7fafc; border-radius:0 0 16px 16px; }
#annModal .form-group{ margin-bottom:1.25rem; }
#annModal .form-group label{ font-weight:600; margin-bottom:8px; font-size:.9rem; color:#333; }
#annModal input,#annModal select,#annModal textarea{ width:100%; padding:12px 14px; border:1px solid var(--border); border-radius:10px; min-height:48px; font-family:'Poppins',sans-serif; transition:border-color .2s, box-shadow .2s; }
#annModal input:focus,#annModal select:focus,#annModal textarea:focus{ outline:none; border-color:var(--primary); box-shadow:0 0 0 3px rgba(var(--primary-rgb), .1); }
#annModal textarea{ min-height:120px; resize:vertical; }
.ann-img-preview{ width:108px; height:72px; border:2px dashed var(--border); color:var(--ink-2); border-radius:12px; display:flex; align-items:center; justify-content:center; overflow:hidden; background:#fff; }
.ann-img-preview img{ width:100%; height:100%; object-fit:cover; }
.file-upload-wrapper{ position:relative; display:flex; align-items:center; border:1px solid var(--border); border-radius:10px; padding:6px 8px; background:#fff; gap:10px; flex-grow:1; min-width:0; }
.file-upload-input{ position:absolute; inset:0; width:100%; height:100%; opacity:0; cursor:pointer; }
.file-upload-button{ background:var(--primary); width:44px; height:44px; display:inline-flex; align-items:center; justify-content:center; border-radius:12px; flex-shrink:0; }
.file-upload-button:hover{ background:var(--primary-dark); }
.file-upload-filename{ color:var(--ink-2); display:inline-block; max-width:260px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* ===== Mobile cards ===== */
@media (max-width:767px){
  #annTable_wrapper, .panel-head{ display:none; }

  .mobile-controls{ display:flex; gap:.75rem; align-items:center; margin-bottom:1.5rem; }
  .mobile-search-wrapper{ flex-grow:1; position:relative; }
  .mobile-search-wrapper .fa-search{ position:absolute; left:14px; top:50%; transform:translateY(-50%); color:var(--ink-2); }
  #mobileSearchInput{ width:100%; height:42px; border-radius:8px; border:1px solid var(--border); padding-left:38px; }
  #mobileAddBtn{ width:42px; height:42px; display:flex; align-items:center; justify-content:center; }

  #mobileCardContainer{ display:flex; overflow-x:auto; scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch; padding-bottom:1.5rem; margin:0 -1rem -1.5rem; padding-left:1rem; padding-right:1rem; }
  #mobileCardContainer::-webkit-scrollbar{ display:none; }
  #mobileCardContainer{ scrollbar-width:none; }

  .ann-card{ flex:0 0 85vw; scroll-snap-align:start; margin-right:1rem; display:flex; flex-direction:column; background:#fff; border-radius:16px; border:1px solid var(--border); box-shadow:0 8px 25px rgba(0,0,0,.07); overflow:hidden; }
  .ann-card:last-child{ margin-right:0; }
  .ann-card-image{ width:100%; height:auto; aspect-ratio:16/9; object-fit:cover; cursor:zoom-in; }
  .ann-card-no-image{ display:flex; flex-direction:column; align-items:center; justify-content:center; aspect-ratio:16/9; border-bottom:1px solid var(--border); background:#f8f9fa; color:var(--ink-2); }
  .ann-card-body{ padding:1rem; }
  .ann-card-title{ font-size:1.2rem; font-weight:700; margin-bottom:.5rem; }
  .ann-card-description{ font-size:.9rem; color:#4b5563; margin-bottom:1rem; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; text-overflow:ellipsis; }
  .ann-card-meta{ display:flex; flex-wrap:wrap; gap:.5rem 1rem; align-items:center; font-size:.85rem; color:#6c757d; }
  .meta-item{ display:inline-flex; align-items:center; gap:.35rem; }
  .status-badge{ padding:.2rem .6rem; border-radius:20px; font-size:.75rem; font-weight:600; }
  .status-badge.published{ background:#d1fae5; color:#065f46; }
  .status-badge.draft{ background:#e5e7eb; color:#374151; }
  .ann-card-footer{ display:flex; justify-content:flex-end; gap:.5rem; padding:.75rem 1rem; background:#f8f9fa; border-top:1px solid var(--border); margin-top:auto; }

  /* Modal buttons as icons on very small screens */
  #annModal .modal-footer .btn-text{ display:none; }
  #annModal .modal-footer .btn{ width:56px; display:flex; align-items:center; justify-content:center; }
}
/* keep the top controls off the rounded edges of the panel */
#annTable_wrapper .dt-top{
  /* cancel Bootstrap .row negative gutters */
  margin-left: 0 !important;
  margin-right: 0 !important;

  /* give the row its own horizontal padding */
  padding-left: 16px;
  padding-right: 16px;

  /* keep your existing flex layout */
  display: flex;
  align-items: center;
  gap: 1rem;
}

/* tiny breathing room for each side */
#annTable_wrapper .dataTables_length{ padding-left: 4px; }
#annTable_wrapper .dt-actions{ padding-right: 6px; }

/* slight space between search field and the Add button */
#annTable_wrapper .dt-actions .dt-actions-wrapper{ gap: .75rem; }
#desktopAddBtn{ margin-left: .5rem; }

/* optional: tighten on narrower desktops */
@media (max-width: 1200px){
  #annTable_filter input{ width: 240px; }
  #annTable_wrapper .dt-top{ padding-left: 12px; padding-right: 12px; }
}
