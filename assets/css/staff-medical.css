/* --- LAYOUT --- */
.medical-page .two-cols {
    display: grid;
    grid-template-columns: 380px 1fr;
    gap: 1.2rem;
    align-items: start;
}

.col-right {
    background-color: #f8fafc;
}
.record-view {
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
}
[hidden] {
    display: none !important;
}

/* Desktop-only styles for scrolling columns */
@media (min-width: 1025px) {
    .col-left, .col-right {
        max-height: calc(100vh - 160px);
        overflow-y: auto;
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
    .col-left::-webkit-scrollbar, .col-right::-webkit-scrollbar {
        display: none;
    }
}

/* Tablet & Mobile layout */
@media (max-width: 1024px) {
    .medical-page .two-cols {
        display: flex;
        flex-direction: column;
    }
    .col-left, .col-right {
        max-height: none;
        overflow: visible;
        width: 100%;
    }
}


/* --- LEFT COLUMN --- */
.search-container { padding: 1rem 1.25rem 0.5rem; flex-shrink: 0; }
.search-box { position: relative; }
.search-box input { width: 100%; padding-right: 40px; }
.search-box .search-icon { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); color: #9ca3af; }

.list-wrap { border-top: 1px solid #eef0f3; display: flex; flex-direction: column; flex-shrink: 0; }
#todayWrap.list-wrap { flex-grow: 1; overflow: hidden; }

.list-head { display: flex; align-items: center; justify-content: space-between; padding: .8rem 1.25rem; background: #f8fafc; border-bottom: 1px solid #eef0f3; flex-shrink: 0; }
.list-head.foldable { cursor: pointer; user-select: none; }
.list-head h4 { margin: 0; font-size: .9rem; font-weight: 600; color: #334155; }
.list-fold { transition: transform 0.2s ease-in-out; color: #94a3b8; }
.list-fold.rotated { transform: rotate(-180deg); }

.pet-list {
    padding: .6rem 1.25rem;
    overflow-y: auto;
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.pet-list.collapsed { display: none; }
.pet-list::-webkit-scrollbar { display: none; }
#listToday { flex-grow: 1; }

/* Pet Item Card */
.pet-item { position: relative; display: grid; grid-template-columns: 44px 1fr; gap: .75rem; align-items: center; padding: .6rem; border-radius: 12px; margin-bottom: .6rem; cursor: pointer; transition: all .2s ease; border: 1px solid #f1f5f9; }
.pet-item:hover { border-color: #99f6e4; }
.pet-item.active { border-color: #14b8a6; background-color: #f0fdfa; box-shadow: 0 4px 10px rgba(0,0,0,.05); }
.pet-item .thumb { width: 44px; height: 44px; border-radius: 10px; background: #f1f5f9; object-fit: cover; overflow: hidden; }
.pi-main { min-width: 0; }
.pi-main .name, .pi-main .sub { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.pi-main .name { font-weight: 600; color: #1e293b; }
.pi-main .sub { font-size: .85rem; color: #64748b; margin-top: 2px; }
.status-badge { position: absolute; top: 8px; right: 8px; font-size: .7rem; font-weight: 700; border-radius: 99px; padding: .2rem .6rem; }
.status-badge.confirmed { background: #cffafe; color: #0e7490; }
.status-badge.completed { background: #dcfce7; color: #166534; }
.time-pill { position: absolute; bottom: 8px; right: 8px; font-size: .75rem; }

/* --- RIGHT COLUMN --- */
/* Pet Info Card */
.pet-details-card { padding: 1.25rem; background: white; border-radius: 16px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); }
#petHeader { display: flex; align-items: center; gap: 1rem; }
#petHeader .avatar { width: 96px; height: 96px; border-radius: 50%; overflow: hidden; background-color: #f1f5f9; }
#petHeader .avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
#petHeader .name { font-size: 1.75rem; font-weight: 800; }
#petHeaderDetails { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-top: 1rem; }

/* --- Tabs and Content Card --- */
.medical-tabs-card { background: white; border-radius: 16px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); }
.tabs { display: flex; flex-wrap: wrap; gap: 1rem; border-bottom: 1px solid #e2e8f0; padding: 1.25rem 1.25rem 0; }
.tab-link { padding: 0.75rem 1rem; font-size: 1rem; font-weight: 600; color: #64748b; cursor: pointer; border: none; background-color: transparent; border-bottom: 3px solid transparent; border-radius: 0; transition: all 0.2s ease; }
.tab-link:hover { color: #14b8a6; }
.tab-link.active { color: #14b8a6; border-bottom-color: #14b8a6; }
.tab-content-wrapper { margin-top: 1rem; padding: 0 1.25rem 1.25rem; }
.tab-content { display: none; }
.tab-content.active { display: block; }

/* --- TABLES & MODAL --- */
.table-container { /* padding: 1.25rem; */ }
.table-actions { margin-bottom: 1rem; text-align: right; }
.table-actions .btn-add, #saveModalBtn { background-color: #14b8a6; border-color: #14b8a6; }
.table-responsive { border: 1px solid #e2e8f0; border-radius: 8px; overflow-x: auto; }
table { width: 100%; border-collapse: collapse; background-color: #fff; }
th, td { white-space: nowrap; }
th { background-color: #f8fafc; text-align: left; padding: 0.75rem 1rem; font-size: 0.88rem; font-weight: 600; }
td { padding: 0.75rem 1rem; text-align: left; border-top: 1px solid #e2e8f0; font-size: 0.88rem; }
tbody tr:hover { background-color: #f8fafc; }
td.actions { display: flex; gap: 0.5rem; justify-content: flex-end; }
.actions .btn { font-size: .8rem; padding: .3rem .5rem; }

.modal {
    position: fixed;
    z-index: 1050; /* Higher z-index */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(15, 23, 42, .6);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding-top: 60px; /* Add padding to avoid top bar */
    padding-bottom: 1rem;
    padding-left: 1rem;
    padding-right: 1rem;
    box-sizing: border-box;
}
.modal-content {
    background-color: #fff;
    border-radius: 12px;
    width: 100%;
    max-width: 540px;
    display: flex;
    flex-direction: column;
    max-height: calc(100vh - 80px); /* Adjust max-height */
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(0,0,0,.1);
}

.modal-header {
    padding: 1rem 1.5rem;
    border-bottom: 1px solid #e2e8f0;
    flex-shrink: 0;
}

.modal-header h3 {
    margin: 0;
    font-size: 1.125rem;
    font-weight: 600;
}

#recordForm {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    min-height: 0;
}

.modal-body {
    padding: 1.5rem;
    overflow-y: auto;
}
.modal-body::-webkit-scrollbar { width: 8px; }
.modal-body::-webkit-scrollbar-track { background: #f1f5f9; }
.modal-body::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }

.modal-footer {
    padding: 1rem 1.5rem;
    border-top: 1px solid #e2e8f0;
    flex-shrink: 0;
    display: flex;
    justify-content: flex-end;
    gap: .75rem;
}
.modal-body .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }

.swal2-html-container { text-align: center !important; }

/* --- MOBILE RESPONSIVENESS --- */
@media (max-width: 768px) {
    #petHeader { flex-direction: column; text-align: center; }
    #petHeaderDetails { grid-template-columns: 1fr; }

    .medical-tabs-card { padding: 1rem .5rem; }
    .tabs {
        padding: 0 .5rem;
        flex-wrap: wrap;
        gap: .5rem;
        border-bottom: none;
    }
    .tab-link {
        font-size: .9rem;
        border-radius: 6px;
    }
    .tab-link.active {
        background-color: #14b8a6;
        color: white;
        border-bottom-color: transparent;
    }
    
    .tab-content-wrapper { padding: 1rem .5rem 0; }
    .table-container { padding: 0; }
    .table-responsive { border: none; }
    
    table { background: transparent; }
    table thead { display: none; }
    table tr {
        display: block;
        margin-bottom: 1rem;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: .5rem 1rem;
        box-shadow: 0 2px 8px rgba(0,0,0,.05);
        background-color: #fff;
    }
    table td {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border: none;
        padding: .75rem 0;
        text-align: right;
        font-size: .9rem;
        border-bottom: 1px solid #f1f5f9;
        word-break: break-all;
        white-space: normal;
    }
    table tr td:last-of-type { border-bottom: none; }
    table td::before {
        content: attr(data-label);
        font-weight: 600;
        color: #334155;
        text-align: left;
        margin-right: 1rem;
        white-space: nowrap;
    }
    td.actions {
        padding-top: .75rem;
        border-top: 1px solid #f1f5f9;
        margin-top: .5rem;
        justify-content: flex-end;
    }
    td.actions::before { display: none; }
}

